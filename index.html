<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lockai | Advanced Security Assessment</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- IMAGE ASSETS (Reliable Unsplash IDs) ---
        const IMAGES = {
            phishing: "https://images.unsplash.com/photo-1563986768609-322da13575f3?auto=format&fit=crop&w=800&q=80",
            mobile: "https://images.unsplash.com/photo-1512314889357-e157c22f938d?auto=format&fit=crop&w=800&q=80",
            crypto: "https://images.unsplash.com/photo-1621416894569-0f39ed31d247?auto=format&fit=crop&w=800&q=80",
            office: "https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=800&q=80",
            hacker: "https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&w=800&q=80",
            shopping: "https://images.unsplash.com/photo-1556742049-0cfed4f7a07d?auto=format&fit=crop&w=800&q=80",
            social: "https://images.unsplash.com/photo-1611162617474-5b21e879e113?auto=format&fit=crop&w=800&q=80",
            general: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=800&q=80"
        };

        const getImageUrl = (category) => {
            const lowerCat = category.toLowerCase();
            if (lowerCat.includes("crypto") || lowerCat.includes("investment")) return IMAGES.crypto;
            if (lowerCat.includes("phone") || lowerCat.includes("voice") || lowerCat.includes("text") || lowerCat.includes("app")) return IMAGES.mobile;
            if (lowerCat.includes("office") || lowerCat.includes("business") || lowerCat.includes("boss") || lowerCat.includes("job") || lowerCat.includes("course") || lowerCat.includes("learning")) return IMAGES.office;
            if (lowerCat.includes("shopping") || lowerCat.includes("rent") || lowerCat.includes("card")) return IMAGES.shopping;
            if (lowerCat.includes("phishing") || lowerCat.includes("email")) return IMAGES.phishing;
            if (lowerCat.includes("social") || lowerCat.includes("dating")) return IMAGES.social;
            if (lowerCat.includes("tech") || lowerCat.includes("virus") || lowerCat.includes("wifi")) return IMAGES.hacker;
            return IMAGES.general;
        };

        // --- DATA: 25 Questions ---
        const QUESTIONS = [
            {
                id: 1,
                scenario: "You receive a text from an unknown number: 'Hey Sarah, are we still on for yoga?'. You are not Sarah.",
                options: [
                    { text: "Reply 'Wrong number, sorry!' to be polite.", score: 2 },
                    { text: "Ignore and delete the message immediately.", score: 5 },
                    { text: "Reply asking who this is; maybe it's an old friend.", score: 0 }
                ],
                category: "Pig Butchering / Wrong Number"
            },
            {
                id: 2,
                scenario: "You receive a call from your 'grandson'. He sounds panicked, crying, saying he's in jail. The voice sounds exactly like him.",
                options: [
                    { text: "Immediately ask for the wiring instructions to help him.", score: 0 },
                    { text: "Hang up and call his personal mobile number to verify.", score: 5 },
                    { text: "Ask him to put the police officer on the phone.", score: 2 }
                ],
                category: "AI Voice Cloning"
            },
            {
                id: 3,
                scenario: "You are at a parking meter. The card slot is jammed, but there is a sticker with a QR code that says 'Scan to Pay Online'.",
                options: [
                    { text: "Scan the QR code and pay via the website it opens.", score: 0 },
                    { text: "Google the official parking app for your city and pay there.", score: 5 },
                    { text: "Look for another meter nearby.", score: 2 }
                ],
                category: "Quishing (QR Phishing)"
            },
            {
                id: 4,
                scenario: "A recruiter on LinkedIn offers you a remote data entry job. They send a check for $2,000 to buy a laptop from their 'vendor'.",
                options: [
                    { text: "Deposit the check and buy the equipment.", score: 0 },
                    { text: "Wait for the check to clear, then buy the equipment.", score: 2 },
                    { text: "Refuse. Legitimate companies buy and ship equipment themselves.", score: 5 }
                ],
                category: "Employment / Fake Check"
            },
            {
                id: 5,
                scenario: "A popup appears on your computer with a loud siren: 'VIRUS DETECTED. Call Microsoft Support immediately.'",
                options: [
                    { text: "Call the number on the screen to fix it fast.", score: 0 },
                    { text: "Force restart your computer and run your own antivirus.", score: 5 },
                    { text: "Click the 'Close' button inside the popup window.", score: 2 }
                ],
                category: "Tech Support Fraud"
            },
            {
                id: 6,
                scenario: "You meet someone on a dating app. Things move fast. After a week, they mention they made $50k trading crypto and want to teach you.",
                options: [
                    { text: "Ask them to explain how it works and try with a small amount.", score: 0 },
                    { text: "Politely listen but keep your finances separate.", score: 2 },
                    { text: "Stop communication immediately. This is a romance scam.", score: 5 }
                ],
                category: "Romance / Crypto Investment"
            },
            {
                id: 7,
                scenario: "You get an email from 'Netflix': 'Payment declined. Update info to keep watching.' The sender address is `support-netflix@gmail.com`.",
                options: [
                    { text: "Click the link and log in to check your account status.", score: 0 },
                    { text: "Hover over the link to see where it goes.", score: 2 },
                    { text: "Mark as spam. Netflix doesn't use Gmail addresses.", score: 5 }
                ],
                category: "Phishing"
            },
            {
                id: 8,
                scenario: "A famous CEO posts a video on Twitter offering to double any ETH/Bitcoin sent to a specific wallet address.",
                options: [
                    { text: "Send a small amount to test if it's real.", score: 0 },
                    { text: "Assume the account was hacked or it's a deepfake.", score: 5 },
                    { text: "Read the comments to see if others got paid.", score: 2 }
                ],
                category: "Crypto Giveaway / Deepfake"
            },
            {
                id: 9,
                scenario: "You receive 10 notifications on your phone asking to approve a login. Then, you get a call from 'IT Support' asking for the code to stop the spam.",
                options: [
                    { text: "Give them the code to make the notifications stop.", score: 0 },
                    { text: "Deny the requests and change your password immediately.", score: 5 },
                    { text: "Turn off your phone for an hour.", score: 2 }
                ],
                category: "MFA Fatigue"
            },
            // --- UPDATED QUESTION 10 (High Ticket Course Scam) ---
            {
                id: 10,
                scenario: "Your friend's wife wants to buy an expensive $2,000 online lesson she saw. The website looks a bit shady and unprofessional, but claims to have 'exclusive secret' content.",
                options: [
                    { text: "Tell her to trust her gut. If the site looks shady, it's likely a scam or low quality.", score: 5 },
                    { text: "Encourage her to buy it. 'Exclusive' content often uses underground websites.", score: 0 },
                    { text: "Tell her to read the reviews on the website's own 'Testimonials' page to verify it.", score: 2 }
                ],
                category: "Fake Course / Online Learning Scam"
            },
            {
                id: 11,
                scenario: "You find a great apartment for rent at a very low price. The landlord says they are out of town but can mail you the keys if you pay the deposit first.",
                options: [
                    { text: "Pay the deposit via a secure method like PayPal.", score: 2 },
                    { text: "Pay via Zelle/CashApp as requested to secure the spot.", score: 0 },
                    { text: "Refuse to pay anything until you see the inside of the unit.", score: 5 }
                ],
                category: "Rental Scam"
            },
            {
                id: 12,
                scenario: "You are selling a couch online. A buyer offers to pay full price + extra for movers, but they need you to pay the movers first via Zelle.",
                options: [
                    { text: "Agree, as long as you get the money first.", score: 0 },
                    { text: "Tell them cash only, in person.", score: 5 },
                    { text: "Ask to speak to the movers directly.", score: 2 }
                ],
                category: "Overpayment Scam"
            },
            {
                id: 13,
                scenario: "You receive an email invoice for 'Geek Squad Renewal' for $399. You don't have Geek Squad.",
                options: [
                    { text: "Call the phone number in the email to dispute the charge.", score: 0 },
                    { text: "Ignore it. It's a fake invoice designed to panic you.", score: 5 },
                    { text: "Reply to the email asking for details.", score: 2 }
                ],
                category: "Refund / Invoice Scam"
            },
            {
                id: 14,
                scenario: "Your boss emails you urgently: 'I'm in a meeting. I need you to buy 5 Apple Gift Cards for a client. I'll reimburse you.'",
                options: [
                    { text: "Buy them quickly to impress the boss.", score: 0 },
                    { text: "Call or message your boss on a separate internal channel to verify.", score: 5 },
                    { text: "Ask the email sender for more details.", score: 2 }
                ],
                category: "Business Email Compromise"
            },
            {
                id: 15,
                scenario: "A viral Facebook post asks: 'What was the name of your first pet? Mine was Fluffy!'",
                options: [
                    { text: "Comment with your pet's name for fun.", score: 0 },
                    { text: "Share the post with friends.", score: 0 },
                    { text: "Scroll past. These are used to guess security questions.", score: 5 }
                ],
                category: "Data Harvesting"
            },
            {
                id: 16,
                scenario: "You are at the airport. You see a WiFi network named 'Free_Airport_WiFi_Official'. It is an 'Open' network.",
                options: [
                    { text: "Connect and check your bank balance.", score: 0 },
                    { text: "Connect but use a VPN immediately.", score: 2 },
                    { text: "Use your cellular data instead.", score: 5 }
                ],
                category: "Evil Twin WiFi"
            },
            {
                id: 17,
                scenario: "You are downloading an authenticator app. One app asks for a weekly subscription of $5 to generate codes.",
                options: [
                    { text: "Pay it, security is worth the money.", score: 0 },
                    { text: "Download Google or Microsoft Authenticator instead (Free).", score: 5 },
                    { text: "Read the reviews first.", score: 2 }
                ],
                category: "Fleeceware"
            },
            {
                id: 18,
                scenario: "Your bank calls. 'There is fraud on your account. Read me the 6-digit code sent to your text to verify your identity.'",
                options: [
                    { text: "Read them the code immediately.", score: 0 },
                    { text: "Hang up. Call the number on the back of your debit card.", score: 5 },
                    { text: "Ask them to verify your address first.", score: 2 }
                ],
                category: "Bank Impersonation"
            },
            {
                id: 19,
                scenario: "You get added to a WhatsApp group about 'Insider Stock Tips' with 200 other people.",
                options: [
                    { text: "Stay in the group to see what tips they give.", score: 2 },
                    { text: "Report and exit the group immediately.", score: 5 },
                    { text: "Message the admin to ask who added you.", score: 0 }
                ],
                category: "Investment Group Scam"
            },
            {
                id: 20,
                scenario: "You search for 'Airline Customer Support' on Google. You dial the first number that appears with an 'Ad' tag.",
                options: [
                    { text: "Trust it because it's on Google.", score: 0 },
                    { text: "Scroll down to the official website to find the number.", score: 5 },
                    { text: "Check if the number starts with 1-800.", score: 2 }
                ],
                category: "Search Engine Poisoning"
            },
            // --- NEW SOPHISTICATED QUESTIONS (21-25) ---
            {
                id: 21,
                scenario: "You lost money to a scam last year. You suddenly receive an email from a 'Blockchain Recovery Firm' claiming they found your stolen funds on a frozen ledger and can retrieve it for a 5% legal fee.",
                options: [
                    { text: "Respond immediately; 5% is a small price to get your money back.", score: 0 },
                    { text: "Engage with them but refuse to pay upfront fees.", score: 2 },
                    { text: "Mark as spam. Recovery firms cannot access frozen blockchains; this is a 'piggyback' scam.", score: 5 }
                ],
                category: "Recovery Scam (Advanced)"
            },
            {
                id: 22,
                scenario: "You get a notification on your phone: 'Attempted login from Russia'. You click 'Deny'. Immediately, your phone rings. It's 'Apple Support' calling to help you secure the account because of the attempt you just denied.",
                options: [
                    { text: "Answer and follow their instructions to secure the account.", score: 0 },
                    { text: "Hang up. Scammers trigger the notification to make their call seem legitimate.", score: 5 },
                    { text: "Ask them for their employee ID before proceeding.", score: 2 }
                ],
                category: "Push Notification / Social Engineering"
            },
            {
                id: 23,
                scenario: "You accepted a freelance job 'optimizing apps'. You log into a dashboard and see you've earned $800 in 2 days. To withdraw the salary, the platform says you must deposit $50 to 'reset the wallet address', which will be refunded.",
                options: [
                    { text: "Deposit the $50; you are still up $750 profit.", score: 0 },
                    { text: "Contact customer support to deduct the $50 from your earnings.", score: 2 },
                    { text: "Stop. Legitimate jobs never require you to pay money to get paid.", score: 5 }
                ],
                category: "Task Scam / Sunk Cost"
            },
            {
                id: 24,
                scenario: "Your iPhone Calendar suddenly fills up with events saying: 'YOUR PHONE IS INFECTED - CLICK TO CLEAN'. You did not accept any calendar invites recently.",
                options: [
                    { text: "Click the link in the event to install the cleaning tool.", score: 0 },
                    { text: "Go to Settings > Calendar > Accounts and delete any subscribed calendars you don't recognize.", score: 5 },
                    { text: "Factory reset your phone immediately.", score: 2 }
                ],
                category: "Calendar Virus Injection"
            },
            {
                id: 25,
                scenario: "You run a small business. A long-time vendor emails you. The conversation history is correct, but they say: 'Our bank is auditing accounts, please use this new account number for the invoice attached.' The invoice looks identical to previous ones.",
                options: [
                    { text: "Update the bank details and pay the invoice to avoid late fees.", score: 0 },
                    { text: "Call the vendor on a known, previously used number (not the one in the email) to verbally confirm.", score: 5 },
                    { text: "Reply to the email asking for a signed letter from their bank.", score: 2 }
                ],
                category: "Business Email Compromise (Thread Hijacking)"
            }
        ];

        const MAX_SCORE = QUESTIONS.length * 5;

        // --- COMPONENTS ---

        // 1. Progress Bar
        const ProgressBar = ({ current, total }) => {
            const percentage = ((current) / total) * 100;
            return (
                <div className="w-full bg-slate-200 rounded-full h-2 mb-6 overflow-hidden">
                    <div 
                        className="bg-indigo-600 h-2 rounded-full transition-all duration-500 ease-out shadow-[0_0_10px_rgba(79,70,229,0.5)]" 
                        style={{ width: `${percentage}%` }}
                    ></div>
                </div>
            );
        };

        // 2. Question Card (Enhanced with Images)
        const QuestionCard = ({ question, onAnswer, questionIndex, totalQuestions }) => {
            const imageUrl = getImageUrl(question.category);

            return (
                <div className="bg-white rounded-3xl shadow-xl fade-in max-w-2xl mx-auto border border-slate-100 overflow-hidden flex flex-col">
                    {/* Image Header */}
                    <div className="relative h-48 overflow-hidden">
                        <img 
                            src={imageUrl} 
                            alt={question.category}
                            className="w-full h-full object-cover transition-transform duration-700 hover:scale-105"
                        />
                        <div className="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-6">
                            <div>
                                <span className="inline-block px-3 py-1 bg-indigo-600/90 text-white text-xs font-bold rounded-full mb-2 backdrop-blur-sm tracking-wider uppercase">
                                    Question {questionIndex + 1}/{totalQuestions}
                                </span>
                                <h3 className="text-white font-bold text-lg drop-shadow-md">{question.category}</h3>
                            </div>
                        </div>
                    </div>

                    <div className="p-6 md:p-8">
                        <h2 className="text-xl md:text-2xl font-bold text-slate-800 mb-8 leading-relaxed">
                            {question.scenario}
                        </h2>

                        <div className="space-y-4">
                            {question.options.map((option, idx) => (
                                <button
                                    key={idx}
                                    onClick={() => onAnswer(option.score)}
                                    className="w-full text-left p-5 rounded-2xl border-2 border-slate-100 hover:border-indigo-500 hover:bg-indigo-50/50 transition-all duration-200 group relative overflow-hidden"
                                >
                                    <div className="flex items-start z-10 relative">
                                        <div className="w-6 h-6 rounded-full border-2 border-slate-300 group-hover:border-indigo-500 mr-4 flex-shrink-0 flex items-center justify-center mt-0.5">
                                            <div className="w-2.5 h-2.5 rounded-full bg-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                        </div>
                                        <span className="text-slate-700 group-hover:text-slate-900 font-medium text-lg">{option.text}</span>
                                    </div>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // 3. Payment Modal (Placeholder)
        const PaymentModal = ({ isOpen, onClose, onSuccess }) => {
            const [processing, setProcessing] = useState(false);

            if (!isOpen) return null;

            const handlePay = () => {
                setProcessing(true);
                // Simulate network request
                setTimeout(() => {
                    setProcessing(false);
                    onSuccess();
                }, 2000);
            };

            return (
                <div className="fixed inset-0 bg-slate-900/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in zoom-in duration-300">
                    <div className="bg-white rounded-3xl shadow-2xl max-w-md w-full p-6 relative overflow-hidden">
                         <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"></div>
                        
                        <button onClick={onClose} className="absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </button>
                        
                        <div className="text-center mb-8 mt-4">
                            <div className="bg-indigo-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner">
                                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-indigo-600"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                            </div>
                            <h3 className="text-2xl font-bold text-slate-900">Unlock Your Analysis</h3>
                            <p className="text-slate-500 mt-2 text-sm px-4">See exactly where you are vulnerable and get your personalized defense strategy.</p>
                        </div>

                        <div className="bg-slate-50 p-5 rounded-2xl mb-8 border border-slate-100">
                            <div className="flex justify-between items-center mb-3">
                                <span className="text-slate-600 font-medium">Detailed Risk Report</span>
                                <span className="font-bold text-slate-900">$4.99</span>
                            </div>
                            <div className="h-px bg-slate-200 my-3"></div>
                            <div className="flex justify-between items-center font-bold text-xl text-indigo-900">
                                <span>Total</span>
                                <span>$4.99</span>
                            </div>
                        </div>

                        <button 
                            onClick={handlePay} 
                            disabled={processing}
                            className="w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-4 rounded-xl transition-all transform active:scale-95 flex items-center justify-center space-x-2 disabled:opacity-70 disabled:cursor-not-allowed shadow-lg hover:shadow-indigo-500/20"
                        >
                            {processing ? (
                                <>
                                    <svg className="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                        <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                                        <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                    </svg>
                                    <span>Processing...</span>
                                </>
                            ) : (
                                <>
                                    <span>Pay & Unlock</span>
                                </>
                            )}
                        </button>
                    </div>
                </div>
            );
        };

        // 4. Results View
        const Results = ({ score, maxScore, onReset, answers }) => {
            const [showModal, setShowModal] = useState(false);
            const [isPremium, setIsPremium] = useState(false);

            const percentage = Math.round((score / maxScore) * 100);
            
            let rating = { label: "Unknown", color: "text-slate-500", bg: "bg-slate-100", border: "border-slate-200", advice: "Please retake the test." };
            if (percentage >= 92) rating = { label: "Security Architect", color: "text-emerald-600", bg: "bg-emerald-50", border: "border-emerald-200", advice: "Outstanding. You spotted the subtlest red flags." };
            else if (percentage >= 75) rating = { label: "Cyber Aware", color: "text-blue-600", bg: "bg-blue-50", border: "border-blue-200", advice: "You are safe from most scams, but a targeted attack might trick you." };
            else if (percentage >= 50) rating = { label: "Vulnerable", color: "text-orange-600", bg: "bg-orange-50", border: "border-orange-200", advice: "You have dangerous blind spots. Scammers can easily exploit your trust." };
            else rating = { label: "High Risk Target", color: "text-red-600", bg: "bg-red-50", border: "border-red-200", advice: "You are statistically highly likely to lose money to fraud soon." };

            return (
                <div className="max-w-4xl mx-auto fade-in pb-20">
                    <div className="bg-white rounded-[2rem] shadow-xl overflow-hidden mb-8 border border-slate-200">
                        {/* Score Header */}
                        <div className={`p-10 text-center ${rating.bg} border-b ${rating.border}`}>
                            <p className="uppercase tracking-widest text-xs font-bold opacity-70 mb-4 text-slate-600">Lockai Security Score</p>
                            <div className="relative inline-block">
                                <h1 className="text-7xl md:text-8xl font-black text-slate-900 tracking-tighter mb-2">{score}</h1>
                                <span className="absolute -top-2 -right-12 text-2xl text-slate-400 font-bold">/{maxScore}</span>
                            </div>
                            <div className="mt-4">
                                <span className={`inline-block px-6 py-2 rounded-full text-sm font-extrabold uppercase tracking-wide bg-white shadow-sm ${rating.color}`}>
                                    {rating.label}
                                </span>
                            </div>
                        </div>

                        {/* Analysis Body */}
                        <div className="p-8 md:p-12">
                            <div className="max-w-2xl mx-auto text-center mb-10">
                                <h2 className="text-2xl font-bold text-slate-900 mb-4">What does this mean?</h2>
                                <p className="text-lg text-slate-600 leading-relaxed">
                                    {rating.advice} Modern scams rely on <span className="font-semibold text-slate-800">urgency</span> and <span className="font-semibold text-slate-800">context</span>, not just fake links.
                                </p>
                            </div>
                            
                            {!isPremium ? (
                                <div className="relative rounded-2xl overflow-hidden group cursor-pointer" onClick={() => setShowModal(true)}>
                                    <div className="absolute inset-0 bg-slate-900 z-0">
                                        <img src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=1200&q=80" className="w-full h-full object-cover opacity-20" />
                                        <div className="absolute inset-0 bg-gradient-to-r from-slate-900 to-slate-900/80"></div>
                                    </div>
                                    
                                    <div className="relative z-10 p-8 md:p-10 flex flex-col md:flex-row items-center justify-between text-white">
                                        <div className="mb-6 md:mb-0 md:mr-8 text-center md:text-left">
                                            <div className="flex items-center justify-center md:justify-start space-x-2 mb-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-indigo-400"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                                                <span className="text-indigo-400 font-bold uppercase tracking-wider text-xs">Premium Report</span>
                                            </div>
                                            <h3 className="text-2xl font-bold mb-2">See your detailed mistakes</h3>
                                            <p className="text-slate-300">Unlock a question-by-question breakdown and learn how to recognize the traps you fell for.</p>
                                        </div>
                                        <button className="bg-white text-slate-900 hover:bg-indigo-50 font-bold py-4 px-8 rounded-xl shadow-lg transition-all transform group-hover:scale-105 whitespace-nowrap">
                                            Unlock Now - $4.99
                                        </button>
                                    </div>
                                </div>
                            ) : (
                                <div className="space-y-6 animate-pulse-once">
                                    <div className="flex items-center justify-center space-x-2 text-emerald-600 font-bold mb-8 bg-emerald-50 py-3 rounded-lg">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Full Analysis Unlocked</span>
                                    </div>
                                    
                                    <div className="space-y-4">
                                        {QUESTIONS.map((q, i) => {
                                            const userScore = answers[i];
                                            const isCorrect = userScore === 5;
                                            return (
                                                <div key={i} className={`p-6 rounded-xl border ${isCorrect ? 'border-slate-100 bg-white' : 'border-red-100 bg-red-50/50'}`}>
                                                    <div className="flex justify-between items-start mb-2">
                                                        <span className="text-xs font-bold text-slate-400 uppercase tracking-wide">Question {i+1}</span>
                                                        {isCorrect ? 
                                                            <span className="text-emerald-600 text-xs font-bold bg-emerald-100 px-2 py-1 rounded">Perfect (+5)</span> : 
                                                            <span className="text-red-600 text-xs font-bold bg-red-100 px-2 py-1 rounded">Risk Detect (+{userScore})</span>
                                                        }
                                                    </div>
                                                    <p className="font-bold text-slate-800 mb-2">{q.scenario}</p>
                                                    <p className="text-slate-600 text-sm mb-3 italic">Category: {q.category}</p>
                                                    
                                                    {!isCorrect && (
                                                        <div className="bg-white border border-slate-200 p-3 rounded-lg text-sm text-slate-600">
                                                            <strong className="text-indigo-600 block mb-1">Expert Analysis:</strong>
                                                            The correct action was: "{q.options.find(o => o.score === 5).text}"
                                                        </div>
                                                    )}
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>

                    <div className="text-center">
                        <button onClick={onReset} className="inline-flex items-center text-slate-500 hover:text-indigo-600 font-bold text-sm transition-colors p-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="mr-2"><polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path></svg>
                            Start New Assessment
                        </button>
                    </div>

                    <PaymentModal 
                        isOpen={showModal} 
                        onClose={() => setShowModal(false)} 
                        onSuccess={() => {
                            setShowModal(false);
                            setIsPremium(true);
                        }} 
                    />
                </div>
            );
        };

        // --- MAIN APP ---
        const App = () => {
            const [started, setStarted] = useState(false);
            const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
            const [score, setScore] = useState(0);
            const [finished, setFinished] = useState(false);
            const [answers, setAnswers] = useState([]);

            const handleStart = () => setStarted(true);

            const handleAnswer = (points) => {
                const newScore = score + points;
                const newAnswers = [...answers, points];
                setScore(newScore);
                setAnswers(newAnswers);

                if (currentQuestionIndex + 1 < QUESTIONS.length) {
                    setTimeout(() => {
                        setCurrentQuestionIndex(currentQuestionIndex + 1);
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }, 300);
                } else {
                    setFinished(true);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            };

            const handleReset = () => {
                setStarted(false);
                setCurrentQuestionIndex(0);
                setScore(0);
                setFinished(false);
                setAnswers([]);
            };

            return (
                <div className="min-h-screen bg-slate-50 flex flex-col selection:bg-indigo-100 selection:text-indigo-900">
                    {/* Navbar */}
                    <nav className="bg-white/80 backdrop-blur-md border-b border-slate-200 px-6 py-4 sticky top-0 z-40 transition-all">
                        <div className="max-w-6xl mx-auto flex justify-between items-center">
                            <div className="flex items-center space-x-2.5">
                                <div className="bg-slate-900 text-white p-2 rounded-xl shadow-lg shadow-indigo-500/20">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                                </div>
                                <span className="font-extrabold text-2xl tracking-tight text-slate-900">Lockai<span className="text-indigo-600">.</span></span>
                            </div>
                            {!finished && started && (
                                <div className="hidden md:block text-xs font-bold uppercase tracking-widest text-slate-400 bg-slate-100 px-3 py-1 rounded-full">
                                    In Progress
                                </div>
                            )}
                        </div>
                    </nav>

                    {/* Main Content */}
                    <main className="flex-grow p-4 md:p-8">
                        <div className="max-w-4xl mx-auto h-full flex flex-col justify-center">
                            
                            {!started ? (
                                // LANDING SCREEN
                                <div className="text-center py-10 md:py-24 fade-in">
                                    <div className="inline-flex items-center justify-center p-2 px-5 mb-8 bg-white border border-slate-200 rounded-full shadow-sm text-sm font-semibold text-slate-600 transform hover:scale-105 transition-transform">
                                        <span className="w-2 h-2 bg-emerald-500 rounded-full mr-2.5 animate-pulse"></span>
                                        Updated for 2025 Scam Trends
                                    </div>
                                    <h1 className="text-5xl md:text-7xl font-black text-slate-900 mb-8 leading-tight tracking-tight">
                                        Human error is the<br className="hidden md:block" />
                                        <span className="relative inline-block mt-2 md:mt-0 text-indigo-600 bg-indigo-50 px-2 rounded-lg decoration-wavy underline decoration-indigo-200">
                                            #1 security vulnerability.
                                        </span>
                                    </h1>
                                    <p className="text-lg md:text-xl text-slate-600 mb-12 max-w-2xl mx-auto leading-relaxed">
                                        Lockai tests your ability to detect sophisticated social engineering, from deepfake voice cloning to subtle recovery scams.
                                    </p>
                                    
                                    <div className="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-6">
                                        <button 
                                            onClick={handleStart}
                                            className="w-full md:w-auto px-10 py-5 text-lg font-bold text-white transition-all duration-300 bg-slate-900 rounded-2xl hover:bg-slate-800 shadow-xl hover:shadow-2xl hover:-translate-y-1 ring-4 ring-slate-100"
                                        >
                                            Start Assessment
                                        </button>
                                        <div className="flex items-center space-x-2 text-slate-500 text-sm font-medium">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
                                            <span>Takes ~4 minutes</span>
                                        </div>
                                    </div>
                                    
                                    <div className="mt-16 grid grid-cols-3 gap-4 max-w-lg mx-auto opacity-60 grayscale hover:grayscale-0 transition-all duration-500">
                                        <div className="text-center">
                                            <div className="font-bold text-2xl text-slate-900">25</div>
                                            <div className="text-xs text-slate-500 uppercase tracking-wide">Scenarios</div>
                                        </div>
                                        <div className="text-center border-l border-r border-slate-200">
                                            <div className="font-bold text-2xl text-slate-900">Yong Tau Foo</div>
                                            <div className="text-xs text-slate-500 uppercase tracking-wide">Powered</div>
                                        </div>
                                        <div className="text-center">
                                            <div className="font-bold text-2xl text-slate-900">100%</div>
                                            <div className="text-xs text-slate-500 uppercase tracking-wide">Private</div>
                                        </div>
                                    </div>
                                </div>
                            ) : !finished ? (
                                // QUIZ SCREEN
                                <div className="w-full">
                                    <ProgressBar current={currentQuestionIndex} total={QUESTIONS.length} />
                                    <QuestionCard 
                                        question={QUESTIONS[currentQuestionIndex]} 
                                        onAnswer={handleAnswer} 
                                        questionIndex={currentQuestionIndex}
                                        totalQuestions={QUESTIONS.length}
                                    />
                                </div>
                            ) : (
                                // RESULT SCREEN
                                <Results 
                                    score={score} 
                                    maxScore={MAX_SCORE} 
                                    onReset={handleReset}
                                    answers={answers}
                                />
                            )}
                        </div>
                    </main>

                    {/* Footer */}
                    <footer className="bg-white border-t border-slate-200 py-10 text-center text-slate-500">
                        <div className="flex items-center justify-center space-x-2 mb-4 opacity-50">
                             <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                             <span className="font-bold text-lg">Lockai</span>
                        </div>
                        <p className="text-sm">Built to make the digital world safer.</p>
                        <p className="mt-2 text-xs text-slate-400">Â© 2025 Lockai. All rights reserved.</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
